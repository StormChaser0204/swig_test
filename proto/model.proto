syntax = "proto3";

package message;


message hex_coord_t
{
    uint32 x = 1;
    uint32 y = 2;
}

enum feature_t {
    none = 0;
    bats = 1;
    sb = 2;
    min = 3;
    maj = 4;
    capital = 5;
}

message capital_hex_zone_t
{
    string name = 1;
    repeated feature_t features = 2 [packed=true];
}

message capital_hex_t
{
    hex_coord_t coord = 1;
    repeated capital_hex_zone_t zones = 2;
}

message capital_t
{
    repeated capital_hex_t hexes = 1;
}

message offmap_t
{
    int32 provinces = 1;
    int32 mins = 2;
    int32 majs = 3;
}

message nation_t
{
    string short_name = 1;
    capital_t capital = 2;
    int32 free_strat_moves = 3;
    int32 capital_star_points = 4;
    offmap_t offmap = 5;
    int32 offmap_survey_ships = 6;
    int32 nation_id = 7;
}

message nations_t
{
    map<string, nation_t> nations = 1;
}

message hex_t
{
    hex_coord_t coord = 1;
    uint32 owner = 2;
    feature_t feature = 3;
    repeated uint32 neutral_zone_bordering = 4;
}

message province_t
{
    repeated uint32 hexes = 1;
}

message province_list_t
{
    repeated province_t provinces = 1;
}

message map_t
{
    uint32 width = 1;
    uint32 height = 2;
    map<uint32, province_list_t> provinces = 3;
    repeated hex_t hexes = 4;
}
